{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/components/user/manage/dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/components/user/manage/dialog.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICByb2xlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVwdGxpc3Q6IFtdLAogICAgICBzaG93RGlhbG9nOiB0cnVlLAogICAgICBmb3JtTGFiZWxXaWR0aDogIjgwcHgiLAogICAgICAvLyDooajljZXmlbDmja4KICAgICAgZm9ybTogewogICAgICAgIGlkOiAiIiwKICAgICAgICBqb2JOdW1iZXI6ICIiLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICB0ZWxlTnVtYmVyOiAiIiwKICAgICAgICBkZXB0SWQ6ICIiLAogICAgICAgIHJvbGVJZDogIiIsCiAgICAgICAgbmlja05hbWU6ICIiLAogICAgICAgIHN0YXR1czogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBqb2JOdW1iZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7floavlhpnnlKjmiLflt6Xlj7ciCiAgICAgICAgfV0sCiAgICAgICAgdGVsZU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeaJi+acuuWPtyIKICAgICAgICB9XSwKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeeZu+W9leWQjSIKICAgICAgICB9XSwKICAgICAgICBkZXB0SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmiYDlsZ7pg6jpl6giCiAgICAgICAgfV0sCiAgICAgICAgcm9sZUlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5omA5bGe6KeS6ImyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgYWxsUm9sZXM6IGZ1bmN0aW9uIGFsbFJvbGVzKCkgewogICAgICByZXR1cm4gdGhpcy5yb2xlczsKICAgIH0KICB9LAogIHdhdGNoOiB7fSwKICBldmVudHM6IHsKICAgIGVkaXRVc2VyTWFuYWdlOiBmdW5jdGlvbiBlZGl0VXNlck1hbmFnZShfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgICBqb2JOdW1iZXIgPSBfcmVmLmpvYk51bWJlciwKICAgICAgICAgIHVzZXJuYW1lID0gX3JlZi51c2VybmFtZSwKICAgICAgICAgIGRlcHRJZCA9IF9yZWYuZGVwdElkLAogICAgICAgICAgcm9sZUlkID0gX3JlZi5yb2xlSWQsCiAgICAgICAgICB0ZWxlTnVtYmVyID0gX3JlZi50ZWxlTnVtYmVyLAogICAgICAgICAgbmlja05hbWUgPSBfcmVmLm5pY2tOYW1lLAogICAgICAgICAgc3RhdHVzID0gX3JlZi5zdGF0dXM7CiAgICAgIHRoaXMuZm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgam9iTnVtYmVyOiBqb2JOdW1iZXIsCiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgIGRlcHRJZDogZGVwdElkLAogICAgICAgIHJvbGVJZDogK3JvbGVJZCwKICAgICAgICB0ZWxlTnVtYmVyOiB0ZWxlTnVtYmVyLAogICAgICAgIG5pY2tOYW1lOiBuaWNrTmFtZSwKICAgICAgICBzdGF0dXM6IHN0YXR1cwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERlcHQ6IGZ1bmN0aW9uIGdldERlcHQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgdXJsOiAiL2FwaS1hZG1pbi9kZXB0L2FsbCIsCiAgICAgICAgdHlwZTogImdldCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuZGVwdGxpc3QgPSByZXMucGFnZSB8fCBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuiOt+WPlumDqOmXqOWIl+ihqOWksei0pSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMi4kdHJpZ2dlcigiZ2V0VXNlck1hbmFnZSIsIF90aGlzMi5mb3JtKTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kdHJpZ2dlcigiY2xvc2VVc2VyTWFuYWdlRGlhbG9nIik7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREZXB0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["dialog.vue"],"names":[],"mappings":"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","sourcesContent":["/** * @file 新建/编辑对话框 * @author donghongyan * @date 2020-06-16 */\n\n<template>\n  <el-dialog\n    :title=\"form.id ? '编辑用户' : '用户新增'\"\n    width=\"600px\"\n    custom-class=\"usermanage\"\n    :visible.sync=\"showDialog\"\n    :close-on-press-escape=\"false\"\n    :close-on-click-modal=\"false\"\n    :show-close=\"false\"\n    :center=\"true\"\n    :destroy-on-close=\"true\"\n  >\n  \n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n      <el-form-item prop=\"jobNumber\" label=\"用户工号\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.jobNumber\" autocomplete=\"off\" placeholder=\"请填写用户工号\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"username\" label=\"登录名\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.username\" autocomplete=\"off\" placeholder=\"请填写登录名\"></el-input>\n      </el-form-item>\n\n      <el-form-item prop=\"teleNumber\" label=\"手机号\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.teleNumber\" autocomplete=\"off\" placeholder=\"请填写手机号\"></el-input>\n      </el-form-item>\n       <el-form-item prop=\"deptId\" label=\"所属部门\" :label-width=\"formLabelWidth\">\n        <el-cascader\n          v-model=\"form.deptId\"\n          :options=\"deptlist\"\n          :props=\"{ label: 'name', value: 'id' }\"\n          placeholder=\"请选择所属部门\"\n        ></el-cascader>\n      </el-form-item>\n      <el-form-item prop=\"roleId\" label=\"所属角色\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"form.roleId\" placeholder=\"请选择所属角色\">\n          <el-option\n            v-for=\"(role, i) in allRoles\"\n            :key=\"'r' + i\"\n            :value=\"role.roleId\"\n            :label=\"role.roleName\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item prop=\"nickName\" label=\"用户昵称\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"form.nickName\" autocomplete=\"off\" placeholder=\"请填写用户昵称\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"close\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit('form')\">确 定</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  props: {\n    roles: {\n      type: Array,\n      default: function() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      deptlist:[],\n      showDialog: true,\n      formLabelWidth: \"80px\",\n      // 表单数据\n      form: {\n        id: \"\",\n        jobNumber: \"\",\n        username: \"\",\n        teleNumber: \"\",\n        deptId:\"\",\n        roleId:\"\",\n        nickName: \"\",\n        status:\"\"\n      },\n      rules: {\n        jobNumber: [\n          { required: true, trigger: \"blur\", message: \"请填写用户工号\" },\n        ],\n        teleNumber: [{ required: true, trigger: \"blur\", message: \"请填写手机号\" }],\n        username: [\n          { required: true, trigger: \"blur\", message: \"请填写登录名\" },\n        ],\n        deptId: [\n          { required: true, trigger: \"blur\", message: \"请选择所属部门\" },\n        ],\n        roleId: [\n          { required: true, trigger: \"blur\", message: \"请选择所属角色\" },\n        ],\n      },\n    };\n  },\n  computed: {\n    allRoles(){\n      return this.roles;\n    }\n  },\n  watch: {},\n  events: {\n    editUserManage({\n      id,\n      jobNumber,\n      username,\n      deptId,\n      roleId,\n      teleNumber,\n      nickName,\n      status\n    }) {\n      this.form = Object.assign(\n        {},\n        {\n          id,\n          jobNumber,\n          username,\n          deptId,\n          roleId: +roleId,\n          teleNumber,\n          nickName,\n          status\n        }\n      );\n    },\n  },\n  methods: {\n    getDept() {\n      this.$axios({\n        url: \"/api-admin/dept/all\",\n        type: \"get\"\n      })\n        .then(res => {\n          this.deptlist = res.page || [];\n        })\n        .catch(err => {\n          this.$message({\n            message: err.msg || \"获取部门列表失败\"\n          });\n        });\n    },\n    submit(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$trigger(\"getUserManage\", this.form);\n          return;\n        }\n        return false;\n      });\n    },\n    close() {\n      this.$trigger(\"closeUserManageDialog\");\n    },\n  },\n  created() {\n    this.getDept();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.usermanage {\n  .area {\n    display: flex;\n    /deep/ .el-select {\n      & + .el-select {\n        margin: 0 0 0 30px;\n      }\n      .el-input {\n        width: 90%;\n      }\n    }\n  }\n  .el-form /deep/ .el-input {\n    width: 400px;\n  }\n}\n.dialog-footer {\n  text-align: center;\n}\n</style>\n"],"sourceRoot":"src/components/user/manage"}]}