{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/pages/admin/department/manage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/pages/admin/department/manage/index.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL2RlcGFydG1lbnQvbWFuYWdlL2RpYWxvZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBjZGlhbG9nOiBkaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrZXk6ICIiLAogICAgICB0YWJsZTogW10sCiAgICAgIHBhZ2U6IDEsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOWxleekuuW8ueahhgogICAgICBzaG93RGVwYXJ0bWVudE1hbmFnZTogZmFsc2UKICAgIH07CiAgfSwKICBldmVudHM6IHsKICAgIGdldERlcGFydG1lbnRNYW5hZ2U6IGZ1bmN0aW9uIGdldERlcGFydG1lbnRNYW5hZ2UoX3JlZikgewogICAgICB2YXIgaWQgPSBfcmVmLmlkLAogICAgICAgICAgX3JlZiRwYXJlbnRJZCA9IF9yZWYucGFyZW50SWQsCiAgICAgICAgICBwYXJlbnRJZCA9IF9yZWYkcGFyZW50SWQgPT09IHZvaWQgMCA/IDAgOiBfcmVmJHBhcmVudElkLAogICAgICAgICAgbmFtZSA9IF9yZWYubmFtZSwKICAgICAgICAgIHJlbWFya3MgPSBfcmVmLnJlbWFya3M7CgogICAgICBpZiAoaWQpIHsKICAgICAgICB0aGlzLmVkaXRTdWJtaXQoewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgcGFyZW50SWQ6IHBhcmVudElkLAogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIHJlbWFya3M6IHJlbWFya3MKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuYWRkU3VibWl0KHsKICAgICAgICBwYXJlbnRJZDogcGFyZW50SWQsCiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICByZW1hcmtzOiByZW1hcmtzCiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlRGVwYXJ0bWVudE1hbmFnZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEZXBhcnRtZW50TWFuYWdlRGlhbG9nKCkgewogICAgICB0aGlzLnNob3dEZXBhcnRtZW50TWFuYWdlID0gZmFsc2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMubGltaXQgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnQpIHsKICAgICAgdGhpcy5wYWdlID0gY3VycmVudDsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL2RlcHQvbGlzdCIsCiAgICAgICAgdHlwZTogImdldCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgICBuYW1lOiB0aGlzLmtleQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHBhZ2UgPSAocmVzIHx8IHt9KS5wYWdlIHx8IHt9OwogICAgICAgIF90aGlzLnRhYmxlID0gcGFnZS5yb3dzIHx8IFtdOwogICAgICAgIF90aGlzLnRvdGFsID0gK3BhZ2UudG90YWw7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLojrflj5bpg6jpl6jliJfooajlpLHotKUiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG5ld0FkZDogZnVuY3Rpb24gbmV3QWRkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd0RlcGFydG1lbnRNYW5hZ2UgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoXykgewogICAgICAgIF90aGlzMi4kdHJpZ2dlcigibmV3RGlhbG9nIiwgMSwgewogICAgICAgICAgaWQ6IDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkU3VibWl0OiBmdW5jdGlvbiBhZGRTdWJtaXQoX3JlZjIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyZW50SWQgPSBfcmVmMi5wYXJlbnRJZCwKICAgICAgICAgIG5hbWUgPSBfcmVmMi5uYW1lLAogICAgICAgICAgcmVtYXJrcyA9IF9yZWYyLnJlbWFya3M7CiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL2RlcHQvYWRkIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFyZW50SWQ6IHBhcmVudElkIHx8IDAsCiAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgcmVtYXJrczogcmVtYXJrcwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLnNob3dEZXBhcnRtZW50TWFuYWdlID0gZmFsc2U7CgogICAgICAgIF90aGlzMy5zZWFyY2goKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLmlrDlop7pg6jpl6jlpLHotKUiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd0RlcGFydG1lbnRNYW5hZ2UgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoXykgewogICAgICAgIF90aGlzNC4kdHJpZ2dlcigibmV3RGlhbG9nIiwgMiwgcm93KTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnNob3dEZXBhcnRtZW50TWFuYWdlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKF8pIHsKICAgICAgICBfdGhpczUuJHRyaWdnZXIoImVkaXREZXBhcnRtZW50TWFuYWdlIiwgcm93KTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFN1Ym1pdDogZnVuY3Rpb24gZWRpdFN1Ym1pdChfcmVmMykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBpZCA9IF9yZWYzLmlkLAogICAgICAgICAgcGFyZW50SWQgPSBfcmVmMy5wYXJlbnRJZCwKICAgICAgICAgIG5hbWUgPSBfcmVmMy5uYW1lLAogICAgICAgICAgcmVtYXJrcyA9IF9yZWYzLnJlbWFya3M7CiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL2RlcHQvdXBkYXRlIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgcGFyZW50SWQ6IHBhcmVudElkLAogICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgIHJlbWFya3M6IHJlbWFya3MKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5zaG93RGVwYXJ0bWVudE1hbmFnZSA9IGZhbHNlOwoKICAgICAgICBfdGhpczYuc2VhcmNoKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZXJyLm1zZyB8fCAi5pu05paw5aSx6LSlIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChfcmVmNCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciBpZCA9IF9yZWY0LmlkOwogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbnoa7orqTliKDpmaTmraTpg6jpl6g/IiwgIuWuieWFqOaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNy4kYXhpb3MoewogICAgICAgICAgdXJsOiAiL2FwaS1hZG1pbi9kZXB0L2RlbGV0ZSIsCiAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM3LiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNy5zZWFyY2goKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczcuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLliKDpmaTlpLHotKUiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2VhcmNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"department\">\n    <div class=\"operators\">\n      <div class=\"search\">\n        <el-input type=\"text\" v-model.trim=\"key\" placeholder=\"请输入部门名称\"></el-input>\n        <el-button type=\"primary\" size=\"mini\" @click=\"search\">搜索</el-button>\n      </div>\n    </div>\n    <div class=\"table-list\">\n      <el-button type=\"primary\" size=\"small\" @click=\"newAdd\">部门新增</el-button>\n      <el-table\n        :data=\"table\"\n        style=\"padding: 0 20px;box-sizing: border-box\"\n        row-key=\"id\"\n        :default-expand-all=\"false\"\n        :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n         header-row-class-name=\"headerRow\"\n        :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\"\n      >\n        <el-table-column prop=\"name\" label=\"部门名称\" width=\"180\"></el-table-column>\n        <el-table-column prop=\"createDate\" align=\"center\" label=\"创建时间\" sortable width=\"180\"></el-table-column>\n        <el-table-column prop=\"remarks\" align=\"center\" label=\"备注\"></el-table-column>\n        <el-table-column label=\"操作\" align=\"center\">\n          <template #default=\"{row}\">\n            <el-button v-if=\"!row.parentId\" type=\"primary\" size=\"mini\" @click=\"add(row)\">新增</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"edit(row)\">编辑</el-button>\n            <el-button type=\"warning\" size=\"mini\" @click=\"del(row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <cdialog v-if=\"showDepartmentManage\"></cdialog>\n    <div class=\"pagination\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"page\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"limit\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport dialog from \"@/components/department/manage/dialog\";\nexport default {\n  components: { cdialog: dialog },\n  data() {\n    return {\n      key: \"\",\n      table: [],\n      page: 1,\n      limit: 10,\n      total: 0,\n      // 展示弹框\n      showDepartmentManage: false\n    };\n  },\n  events: {\n    getDepartmentManage({ id, parentId = 0, name, remarks }) {\n      if (id) {\n        this.editSubmit({ id, parentId, name, remarks });\n        return;\n      }\n      this.addSubmit({ parentId, name, remarks });\n    },\n    closeDepartmentManageDialog() {\n      this.showDepartmentManage = false;\n    }\n  },\n  methods: {\n    handleSizeChange(pageSize) {\n      this.limit = pageSize;\n      this.search();\n    },\n    handleCurrentChange(current) {\n      this.page = current;\n      this.search();\n    },\n    search() {\n      this.$axios({\n        url: \"/api-admin/dept/list\",\n        type: \"get\",\n        data: {\n          page: this.page,\n          limit: this.limit,\n          name: this.key\n        }\n      })\n        .then(res => {\n          const page = (res || {}).page || {};\n          this.table = page.rows || [];\n          this.total = +page.total;\n        })\n        .catch(err => {\n          this.$message({\n            message: err.msg || \"获取部门列表失败\"\n          });\n        });\n    },\n    newAdd() {\n      this.showDepartmentManage = true;\n      this.$nextTick(_ => {\n        this.$trigger(\"newDialog\", 1, { id: 0 });\n      });\n    },\n    addSubmit({ parentId, name, remarks }) {\n      this.$axios({\n        url: \"/api-admin/dept/add\",\n        type: \"post\",\n        data: {\n          parentId:parentId || 0,\n          name,\n          remarks\n        }\n      })\n        .then(res => {\n          this.showDepartmentManage = false;\n          this.search();\n        })\n        .catch(err => {\n          this.$message({\n            message: err.msg || \"新增部门失败\"\n          });\n        });\n    },\n    add(row) {\n      this.showDepartmentManage = true;\n      this.$nextTick(_ => {\n        this.$trigger(\"newDialog\", 2, row);\n      });\n    },\n    edit(row) {\n      this.showDepartmentManage = true;\n      this.$nextTick(_ => {\n        this.$trigger(\"editDepartmentManage\", row);\n      });\n    },\n    editSubmit({ id, parentId, name, remarks }) {\n      this.$axios({\n        url: \"/api-admin/dept/update\",\n        type: \"post\",\n        data: {\n          id,\n          parentId,\n          name,\n          remarks\n        }\n      })\n        .then(res => {\n          this.showDepartmentManage = false;\n          this.search();\n        })\n        .catch(err => {\n          this.$message({\n            message: err.msg || \"更新失败\"\n          });\n        });\n    },\n    del({ id }) {\n      this.$confirm(\"是否确认删除此部门?\", \"安全提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$axios({\n            url: \"/api-admin/dept/delete\",\n            type: \"post\",\n            data: {\n              id\n            }\n          })\n            .then(res => {\n              this.$message({\n                type: \"success\",\n                message: \"删除成功!\"\n              });\n              this.search();\n            })\n            .catch(err => {\n              this.$message({\n                message: err.msg || \"删除失败\"\n              });\n            });\n        })\n        .catch(() => {});\n    }\n  },\n  created() {\n    this.search();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.department {\n  padding: 20px;\n  .operators,\n  .operators .search {\n    display: flex;\n  }\n  .table-list {\n    margin: 20px 0 0 0;\n    background: #fff;\n    padding-top: 20px;\n    .el-button{\n      margin-bottom:20px;\n    }\n  }\n  .operators /deep/ .el-input {\n    width: 250px;\n  }\n  .pagination {\n    padding: 50px;\n    text-align: center;\n    background-color: #fff;\n  }\n  /deep/ .el-button {\n    margin: 0 0 0 20px;\n  }\n}\n</style>"],"sourceRoot":"src/pages/admin/department/manage"}]}