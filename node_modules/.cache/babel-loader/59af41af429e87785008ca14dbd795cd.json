{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/pages/admin/role/manage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/pages/admin/role/manage/index.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByb2xlQ2FyZCBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL3JvbGUvbWFuYWdlL2hhbmRsZXJvbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleTogIiIsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGNvZGVTZWFyY2g6ICIiLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmiYDmnInlrZflhbjliIbnsbsKICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICBzaG93Um9sZUNhcmQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgInJvbGUtY2FyZCI6IHJvbGVDYXJkCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMubGltaXQgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnQpIHsKICAgICAgdGhpcy5wYWdlID0gY3VycmVudDsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL3JvbGUvbGlzdCIsCiAgICAgICAgdHlwZTogImdldCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgICB0aXRsZTogdGhpcy5rZXkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBwYWdlID0gKHJlcyB8fCB7fSkucGFnZSB8fCB7fTsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSBwYWdlLnJvd3MgfHwgW107CiAgICAgICAgX3RoaXMudG90YWwgPSArcGFnZS50b3RhbDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuiOt+WPluinkuiJsuWIl+ihqOWksei0pSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIC8v5aKe5Yqg6KGo5qC86KGMCiAgICAgIHRoaXMudGFibGVEYXRhLnVuc2hpZnQoewogICAgICAgIHJvbGVOYW1lOiAiIiwKICAgICAgICBpc0FkZDogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDb21wbGV0ZTogZnVuY3Rpb24gaGFuZGxlQ29tcGxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/moKHpqowKICAgICAgaWYgKCFyb3cucm9sZU5hbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXop5LoibLlkI0iCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/ljLrliIbmmK/mlrDlop7ov5jmmK/nvJbovpEKICAgICAgICBpZiAocm93LmlzQWRkKSB7CiAgICAgICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgICAgIHVybDogIi9hcGktYWRtaW4vcm9sZS9hZGQiLAogICAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICByb2xlTmFtZTogcm93LnJvbGVOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczIuc2VhcmNoKCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLop5LoibLmlrDlop7lpLHotKUiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocm93LmlzRWRpdCkgewogICAgICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgICAgICB1cmw6ICIvYXBpLWFkbWluL3JvbGUvdXBkYXRlIiwKICAgICAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgcm9sZUlkOiByb3cucm9sZUlkLAogICAgICAgICAgICAgIHJvbGVOYW1lOiByb3cucm9sZU5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMi5zZWFyY2goKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuinkuiJsuS/ruaUueWksei0pSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbChpbmRleCwgcm93KSB7CiAgICAgIC8v5Yy65YiG5piv5paw5aKe6L+Y5piv57yW6L6RCiAgICAgIGlmIChyb3cuaXNBZGQpIHsKICAgICAgICAvL+WIoOmZpOihqOagvOihjAogICAgICAgIHRoaXMudGFibGVEYXRhLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KCiAgICAgIGlmIChyb3cuaXNFZGl0KSB7CiAgICAgICAgdGhpcy4kc2V0KHJvdywgJ2lzRWRpdCcsIGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgIHRoaXMuJHNldChyb3csICJpc0VkaXQiLCB0cnVlKTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShfcmVmKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHJvbGVJZCA9IF9yZWYucm9sZUlkOwogICAgICBjb25zb2xlLmxvZyhyb2xlSWQpOwogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbnoa7orqTliKDpmaTmraTop5LoibI/IiwgIuWuieWFqOaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kYXhpb3MoewogICAgICAgICAgdXJsOiAiL2FwaS1hZG1pbi9yb2xlL2RlbGV0ZSIsCiAgICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHJvbGVJZDogcm9sZUlkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIgogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMzLnNlYXJjaCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuWIoOmZpOWksei0pSIKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgaGFuZGxlUm9sZTogZnVuY3Rpb24gaGFuZGxlUm9sZShyb3cpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnNob3dSb2xlQ2FyZCA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgX3RoaXM0LiR0cmlnZ2VyKCdoYW5kbGVSb2xlc1RyZWUnLCByb3cpOwogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtU2V0OiBmdW5jdGlvbiBjb25maXJtU2V0KHJvd0RhdGEpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhyb3dEYXRhKTsKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogIi9hcGktYWRtaW4vcm9sZS91cGRhdGUiLAogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICByb2xlSWQ6IHJvd0RhdGEucm9sZUlkLAogICAgICAgICAgcm9sZU5hbWU6IHJvd0RhdGEucm9sZU5hbWUsCiAgICAgICAgICBtZW51SWRzOiByb3dEYXRhLmF1dGhvcml0eS5qb2luKCcsJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBjb2RlID0gcmVzLmNvZGUsCiAgICAgICAgICAgIG1zZyA9IHJlcy5tc2c7CiAgICAgICAgaWYgKGNvZGUgIT0gMCkgcmV0dXJuIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgbWVzc2FnZTogbXNnIHx8ICfphY3nva7lpLHotKUnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiBtc2cgfHwgJ+mFjee9ruaIkOWKnycKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM1LnNob3dSb2xlQ2FyZCA9IGZhbHNlOwoKICAgICAgICBfdGhpczUuc2VhcmNoKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuadg+mZkOmFjee9ruWksei0pSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsU2V0OiBmdW5jdGlvbiBjYW5jZWxTZXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCflj5bmtognKTsKICAgICAgdGhpcy5zaG93Um9sZUNhcmQgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRBdXRob3JpdGllczogZnVuY3Rpb24gZ2V0QXV0aG9yaXRpZXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogIi9hcGktYWRtaW4vbWVudS9saXN0IiwKICAgICAgICB0eXBlOiAiZ2V0IgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYuYXV0aG9yaXRpZXMgPSByZXMucGFnZSB8fCBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzNi4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLmnYPpmZDliqDovb3lpLHotKUiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QXV0aG9yaXRpZXMoKTsKICAgIHRoaXMuc2VhcmNoKCk7CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"role-manage\">\n    <div class=\"table-list\">\n      <div class=\"operators\">\n        <el-button\n          type=\"primary\"\n          class=\"fa fa-plus-circle fa-lg\"\n          size=\"small\"\n          @click=\"add\"\n          >&nbsp;角色新增</el-button\n        >\n      </div>\n      <el-table\n        ref=\"table\"\n        :data=\"\n          tableData.filter(\n            (data) =>\n              !codeSearch ||\n              data.roleName.toLowerCase().includes(codeSearch.toLowerCase())\n          )\n        \"\n        style=\"width: 100%\"\n        header-row-class-name=\"headerRow\"\n        :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\"\n      >\n        <el-table-column prop=\"roleName\" label=\"角色\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-input\n              v-if=\"scope.row.isAdd || scope.row.isEdit\"\n              v-model=\"scope.row.roleName\"\n              size=\"small\"\n              placeholder=\"请设置角色名\"\n            />\n            <span v-else>{{ scope.row.roleName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\">\n          <template slot=\"header\">\n            <el-input\n              v-model=\"codeSearch\"\n              size=\"small\"\n              placeholder=\"输入角色名进行搜索\"\n            />\n          </template>\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"primary\"\n              v-if=\"!scope.row.isAdd && !scope.row.isEdit\"\n              size=\"mini\"\n              @click=\"handleEdit(scope.row)\"\n              >编辑</el-button\n            >\n            <el-button\n              v-if=\"!scope.row.isAdd && !scope.row.isEdit\"\n              size=\"mini\"\n              type=\"warning\"\n              @click=\"handleDelete(scope.row)\"\n              >删除</el-button\n            >\n            <el-button\n              v-if=\"!scope.row.isAdd && !scope.row.isEdit\"\n              size=\"mini\"\n              type=\"primary\"\n              @click=\"handleRole(scope.row)\"\n              >权限配置</el-button\n            >\n            <el-button\n              type=\"primary\"\n              v-if=\"scope.row.isAdd || scope.row.isEdit\"\n              size=\"mini\"\n              @click=\"handleComplete(scope.row)\"\n              >完成</el-button\n            >\n            <el-button\n              v-if=\"scope.row.isAdd || scope.row.isEdit\"\n              size=\"mini\"\n              type=\"warning\"\n              @click=\"handleCancel(scope.$index, scope.row)\"\n              >取消</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"page\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"limit\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n    <transition name=\"slide-fade\" mode=\"out-in\">\n      <role-card v-if=\"showRoleCard\" v-on:cancel-set='cancelSet' v-on:confirm-set='confirmSet' :authorities='authorities'></role-card>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport roleCard from '../../../../components/role/manage/handlerole';\nexport default {\n  data() {\n    return {\n      key: \"\",\n      tableData: [],\n      codeSearch: \"\",\n      page: 1,\n      limit: 10,\n      total: 0,\n      // 所有字典分类\n      authorities: [],\n      showRoleCard:false\n    };\n  },\n  components: {\n    \"role-card\":roleCard\n  },\n  methods: {\n    handleSizeChange(pageSize) {\n      this.limit = pageSize;\n      this.search();\n    },\n    handleCurrentChange(current) {\n      this.page = current;\n      this.search();\n    },\n    search() {\n      this.$axios({\n        url: \"/api-admin/role/list\",\n        type: \"get\",\n        data: {\n          page: this.page,\n          limit: this.limit,\n          title: this.key,\n        },\n      })\n        .then((res) => {\n          const page = (res || {}).page || {};\n          this.tableData = page.rows || [];\n          this.total = +page.total;\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"获取角色列表失败\",\n          });\n        });\n    },\n    add() {\n      //增加表格行\n      this.tableData.unshift({\n        roleName: \"\",\n        isAdd: true,\n      });\n    },\n    handleComplete(row) {\n      //校验\n      if (!row.roleName) {\n        this.$message({\n          type: \"info\",\n          message: \"请输入角色名\",\n        });\n      } else {\n        //区分是新增还是编辑\n        if (row.isAdd) {\n          this.$axios({\n            url: \"/api-admin/role/add\",\n            type: \"post\",\n            data: {\n              roleName: row.roleName,\n            },\n          })\n            .then((res) => {\n              this.search();\n            })\n            .catch((err) => {\n              this.$message({\n                type: \"error\",\n                message: err.msg || \"角色新增失败\",\n              });\n            });\n        }\n        if (row.isEdit) {\n          this.$axios({\n            url: \"/api-admin/role/update\",\n            type: \"post\",\n            data: {\n              roleId: row.roleId,\n              roleName: row.roleName,\n            },\n          })\n            .then((res) => {\n              this.search();\n            })\n            .catch((err) => {\n              this.$message({\n                type: \"error\",\n                message: err.msg || \"角色修改失败\",\n              });\n            });\n        }\n      }\n    },\n    handleCancel(index, row) {\n      //区分是新增还是编辑\n      if(row.isAdd){\n        //删除表格行\n      this.tableData.splice(index, 1);\n      }\n      if(row.isEdit){\n        this.$set(row,'isEdit',false)\n      }\n    },\n    handleEdit(row) {\n      console.log(row);\n      this.$set(row, \"isEdit\", true);\n    },\n    handleDelete({ roleId }) {\n      console.log(roleId)\n      this.$confirm(\"是否确认删除此角色?\", \"安全提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.$axios({\n            url: \"/api-admin/role/delete\",\n            type: \"post\",\n            data: {\n              roleId,\n            },\n          })\n            .then((res) => {\n              this.$message({\n                type: \"success\",\n                message: \"删除成功!\",\n              });\n              this.search();\n            })\n            .catch((err) => {\n              this.$message({\n                message: err.msg || \"删除失败\",\n              });\n            });\n        })\n        .catch(() => {});\n    },\n    handleRole(row){\n      this.showRoleCard = true;\n      this.$nextTick(_ => {\n        this.$trigger('handleRolesTree',row)\n      })\n    },\n    confirmSet(rowData){\n      console.log(rowData)\n      this.$axios({\n            url: \"/api-admin/role/update\",\n            type: \"post\",\n            data: {\n              roleId: rowData.roleId,\n              roleName: rowData.roleName,\n              menuIds: rowData.authority.join(',')\n            },\n          })\n            .then((res) => {\n              let {code,msg} = res;\n              if(code != 0) return this.$message({\n                type:'error',\n                message:msg || '配置失败'\n              })\n              this.$message({\n                type:'success',\n                message:msg || '配置成功'\n              })\n              this.showRoleCard = false\n              this.search();\n            })\n            .catch((err) => {\n              this.$message({\n                type: \"error\",\n                message: err.msg || \"权限配置失败\",\n              });\n            });\n    },\n    cancelSet(){\n      console.log('取消')\n      this.showRoleCard = false;\n    },\n    getAuthorities() {\n      this.$axios({\n        url: \"/api-admin/menu/list\",\n        type: \"get\",\n      })\n        .then((res) => {\n          this.authorities = res.page || [];\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"权限加载失败\",\n          });\n        });\n    },\n  },\n  created() {\n    this.getAuthorities();\n    this.search();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.slide-fade-enter-active {\n  transition: all .5s ease;\n}\n.slide-fade-leave-active {\n  transition: all .5s ease;\n}\n.slide-fade-enter, .slide-fade-leave-to\n/* .slide-fade-leave-active for below version 2.1.8 */ {\n  transform: translateX(10px);\n  opacity: 0;\n}\n.role-manage {\n  padding: 20px;\n  .operators {\n    display: flex;\n    padding-top: 20px;\n  }\n  .table-list {\n    margin: 20px 0 0 0;\n    background: #fff;\n    /deep/ .el-input {\n      width: 80%;\n    }\n  }\n  .operators /deep/ .el-input {\n    width: 250px;\n  }\n  .pagination {\n    padding: 50px;\n    text-align: center;\n    background-color: #fff;\n  }\n  /deep/ .el-button {\n    margin: 0 0 0 20px;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/admin/role/manage"}]}