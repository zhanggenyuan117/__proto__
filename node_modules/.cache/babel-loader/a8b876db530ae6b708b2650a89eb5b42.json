{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/components/role/manage/handlerole.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/components/role/manage/handlerole.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImF1dGhvcml0aWVzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlbGF0aW9uOiBmYWxzZSwKICAgICAgcm93RGF0YTogewogICAgICAgIHJvbGVJZDogJycsCiAgICAgICAgcm9sZU5hbWU6ICcnLAogICAgICAgIGF1dGhvcml0eTogW10KICAgICAgfSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgaWQ6ICJpZCIsCiAgICAgICAgbGFiZWw6ICJuYW1lIiwKICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIgogICAgICB9CiAgICB9OwogIH0sCiAgZXZlbnRzOiB7CiAgICBoYW5kbGVSb2xlc1RyZWU6IGZ1bmN0aW9uIGhhbmRsZVJvbGVzVHJlZShfcmVmKSB7CiAgICAgIHZhciByb2xlSWQgPSBfcmVmLnJvbGVJZCwKICAgICAgICAgIHJvbGVOYW1lID0gX3JlZi5yb2xlTmFtZSwKICAgICAgICAgIG1lbnVMaXN0ID0gX3JlZi5tZW51TGlzdDsKICAgICAgdGhpcy5yb3dEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgIHJvbGVJZDogcm9sZUlkLAogICAgICAgIHJvbGVOYW1lOiByb2xlTmFtZSwKICAgICAgICBhdXRob3JpdHk6IG1lbnVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZDsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICAgIH0pCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnJvd0RhdGEpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tlZEtleXM6IGZ1bmN0aW9uIGNoZWNrZWRLZXlzKG9iaiwgY2hlY2tlZE9iaikgewogICAgICB0aGlzLnJvd0RhdGEuYXV0aG9yaXR5ID0gY2hlY2tlZE9iai5jaGVja2VkS2V5czsKICAgICAgY29uc29sZS5sb2cob2JqKTsKICAgICAgaWYgKG9iai5zdGF0dXMgPT0gMikgdGhpcy5yZWxhdGlvbiA9IHRydWU7CiAgICB9LAogICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybSgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5yb3dEYXRhLmF1dGhvcml0eSkKICAgICAgdGhpcy4kZW1pdCgiY29uZmlybS1zZXQiLCB0aGlzLnJvd0RhdGEpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwtc2V0Iik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["handlerole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,aAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAFA;AAOA,MAAA,YAAA,EAAA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AAPA,KAAA;AAaA,GAhBA;AAiBA,EAAA,MAAA,EAAA;AACA,IAAA,eADA,iCACA;AAAA,UAAA,MAAA,QAAA,MAAA;AAAA,UAAA,QAAA,QAAA,QAAA;AAAA,UAAA,QAAA,QAAA,QAAA;AACA,WAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CACA,EADA,EAEA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,QAAA,EAAA,QAFA;AAGA,QAAA,SAAA,EAAA,QAAA,CACA,MADA,CACA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA;AAAA,SADA,EAEA,GAFA,CAEA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA;AAAA,SAFA;AAHA,OAFA,CAAA;AAUA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA;AAbA,GAjBA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA,UADA,EACA;AACA,WAAA,OAAA,CAAA,SAAA,GAAA,UAAA,CAAA,WAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,GAAA,CAAA,MAAA,IAAA,CAAA,EAAA,KAAA,QAAA,GAAA,IAAA;AACA,KALA;AAMA,IAAA,OANA,qBAMA;AACA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,OAAA;AACA,KATA;AAUA,IAAA,MAVA,oBAUA;AACA,WAAA,KAAA,CAAA,YAAA;AACA;AAZA;AAhCA,CAAA","sourcesContent":["<template>\n  <div class=\"role_card\">\n    <div class=\"mask\"></div>\n    <div class=\"right_card\">\n      <div class=\"title\">点位配置</div>\n      <div class=\"content\">\n        <el-tree\n          :data=\"authorities\"\n          :check-strictly='relation'\n          show-checkbox\n          node-key=\"id\"\n          accordion\n          :props=\"defaultProps\"\n          :default-expanded-keys=\"rowData.authority\"\n          :default-checked-keys=\"rowData.authority\"\n          @check=\"checkedKeys\"\n        ></el-tree>\n      </div>\n      <div class=\"footer\">\n        <el-button type=\"primary\" @click=\"confirm\">确认</el-button>\n        <el-button type=\"info\" @click=\"cancel\">取消</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n.role_card {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  .mask {\n    width: 100%;\n    height: 100%;\n    background-color: rgba(103, 98, 98, 0.5);\n  }\n  .right_card {\n    box-sizing: border-box;\n    padding-top: 30px;\n    width: 400px;\n    height: 100%;\n    background: #ffffff;\n    position: absolute;\n    top: 0;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    .title {\n      font-size: 18px;\n      font-weight: 530;\n      margin-left:30px;\n    }\n    .content{\n        margin-left: 30px;\n        margin-top: 20px;\n        font-size: 16px;\n    }\n    .footer {\n        display: flex;\n     position: absolute;\n     bottom: 20px;\n      width: 100%;\n      text-align: center;\n      .el-button{\n         flex: 1;\n      }\n    }\n  }\n}\n</style>\n<script>\nexport default {\n  props: [\"authorities\"],\n  data() {\n    return {\n      relation:false,\n      rowData:{\n          roleId:'',\n          roleName:'',\n          authority:[]\n      },\n      defaultProps: {\n        id: \"id\",\n        label: \"name\",\n        children: \"children\",\n      },\n    };\n  },\n  events:{\n      handleRolesTree({ roleId, roleName, menuList }) {\n      this.rowData = Object.assign(\n        {},\n        {\n          roleId,\n          roleName,\n          authority: menuList\n            .filter((item) => item.checked)\n            .map((item) => item.id),\n        }\n      );\n      console.log(this.rowData)\n    }\n  },\n  methods: {\n    checkedKeys(obj, checkedObj) {\n      this.rowData.authority = checkedObj.checkedKeys;\n      console.log(obj)\n      if(obj.status == 2) this.relation = true;\n    },\n    confirm() {\n      // console.log(this.rowData.authority)\n      this.$emit(\"confirm-set\", this.rowData);\n    },\n    cancel() {\n      this.$emit(\"cancel-set\");\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components/role/manage"}]}