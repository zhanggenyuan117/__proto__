{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/pages/admin/dictionary/manage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/pages/admin/dictionary/manage/index.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL2RpY3Rpb25hcnkvbWFuYWdlL2RpYWxvZyI7CmltcG9ydCB2RGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9kaWN0aW9uYXJ5L3R5cGUvZGlhbG9nJzsKaW1wb3J0IHsgY29sdW1uQ29uZmlnIH0gZnJvbSAiLi9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IGNkaWFsb2c6IGRpYWxvZywndi1kaWFsb2cnOnZEaWFsb2cgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uQ29uZmlnOiBjb2x1bW5Db25maWcsCiAgICAgIGFjdGl2ZUNvbG9yOiAiIzAwQjlFRCIsCiAgICAgIHVuYWN0aXZlQ29sb3I6ICJyZWQiLAogICAgICBrZXk6ICIiLAogICAgICB0YWJsZTogW10sCiAgICAgIHBhZ2U6IDEsCiAgICAgIGxpbWl0OiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaJgOacieWtl+WFuOWIhuexuwogICAgICB0eXBlczogW10sCiAgICAgIHNob3dEaWN0aW9uYXJ5OiBmYWxzZSwKICAgICAgc2hvd0RpY3Rpb25hcnlUeXBlOmZhbHNlLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICB9OwogIH0sCiAgZXZlbnRzOiB7CiAgICBnZXREaWN0aW9uYXJ5KHsgaWQsIG5hbWUgfSkgewogICAgICBpZiAoaWQpIHsKICAgICAgICB0aGlzLmVkaXRTdWJtaXQoeyBpZCwgbmFtZSB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5hZGRTdWJtaXQoeyBuYW1lIH0pOwogICAgfSwKICAgIGNsb3NlRGljdGlvbmFyeURpYWxvZygpIHsKICAgICAgdGhpcy5zaG93RGljdGlvbmFyeSA9IGZhbHNlOwogICAgICAgdGhpcy5zaG93RGljdGlvbmFyeVR5cGUgPSBmYWxzZTsKICAgIH0sCiAgICBnZXREaWN0aW9uYXJ5VHlwZSh7IGlkLHBhcmVudElkLCBuYW1lIH0pIHsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgdGhpcy5lZGl0VmFsdWVTdWJtaXQoeyBpZCwgcGFyZW50SWQsIG5hbWUgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuYWRkVmFsdWVTdWJtaXQoeyBwYXJlbnRJZCxuYW1lfSk7CiAgICB9LAogICAgLy8gY2xvc2VEaWN0aW9uYXJ5VHlwZURpYWxvZygpIHsKICAgIC8vICAgdGhpcy5zaG93RGljdGlvbmFyeVR5cGUgPSBmYWxzZTsKICAgIC8vIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5saW1pdCA9IHBhZ2VTaXplOwogICAgICB0aGlzLnNlYXJjaCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UoY3VycmVudCkgewogICAgICB0aGlzLnBhZ2UgPSBjdXJyZW50OwogICAgICB0aGlzLnNlYXJjaCgpOwogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogIi9hcGktYWRtaW4vZGljdFR5cGUvbGlzdCIsCiAgICAgICAgdHlwZTogImdldCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgICBuYW1lOiB0aGlzLmtleSwKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGNvbnN0IHBhZ2UgPSAocmVzIHx8IHt9KS5wYWdlIHx8IHt9OwogICAgICAgICAgdGhpcy50YWJsZSA9IHBhZ2Uucm93cyB8fCBbXTsKICAgICAgICAgIGlmKHRoaXMudGFibGUubGVuZ3RoPjApewogICAgICAgICAgICB0aGlzLnRhYmxlLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPSBpdGVtLmRlbEZsYWcgPT0gMD9mYWxzZTp0cnVlOwogICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChfaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBfaXRlbS5zdGF0dXMgPSBfaXRlbS5kZWxGbGFnID09IDA/ZmFsc2U6dHJ1ZTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgICAgdGhpcy50b3RhbCA9ICtwYWdlLnRvdGFsOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLojrflj5blrZflhbjliJfooajlpLHotKUiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgYWRkKCkgewogICAgICB0aGlzLnNob3dEaWN0aW9uYXJ5ID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRUeXBlKHJvdyl7CiAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnlUeXBlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soXyA9PiB7CiAgICAgICAgdGhpcy4kdHJpZ2dlcignYWRkVHlwZVZhbHVlJyxyb3cpCiAgICAgIH0pCiAgICB9LAogICAgYWRkU3VibWl0KHsgbmFtZSB9KSB7CiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL2RpY3RUeXBlL2FkZCIsCiAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG5hbWUKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnkgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIua3u+WKoOWtl+WFuOWksei0pSIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBlZGl0KHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICAvL+WIpOaWreaYr+Wtl+WFuOWIhuexu+i/mOaYr+Wtl+WFuOWAvOe8lui+kQogICAgICBpZihyb3cuY2hpbGRyZW4pewogICAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnkgPSB0cnVlOwogICAgICAgICB0aGlzLiRuZXh0VGljaygoXykgPT4gewogICAgICAgIHRoaXMuJHRyaWdnZXIoImVkaXREaWN0aW9uYXJ5Iiwgcm93KTsKICAgICAgfSk7CiAgICAgIH1lbHNlewogICAgICAgIGxldCBwYXJlbnRSb3c7CiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnRhYmxlLmxlbmd0aDtpKyspewogICAgICAgICAgbGV0IF9pdGVtPXRoaXMudGFibGVbaV07CiAgICAgICAgICB0aGlzLnRhYmxlW2ldLmNoaWxkcmVuLmZvckVhY2goaXQgPT4gewogICAgICAgICAgIGlmKGl0LmlkID09IHJvdy5pZCkgcGFyZW50Um93ID0gX2l0ZW07CiAgICAgICAgICB9KQoKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2cocGFyZW50Um93KTsKICAgICAgICB0aGlzLnNob3dEaWN0aW9uYXJ5VHlwZSA9IHRydWU7CiAgICAgICAgLy/lgLznvJbovpHpnIDopoHojrflj5bliLDkuLvplK5pZOWSjOeItue6p2lkCiAgICAgIHRoaXMuJG5leHRUaWNrKChfKSA9PiB7CiAgICAgICAgdGhpcy4kdHJpZ2dlcigiZWRpdERpY3Rpb25hcnlUeXBlIiwgcGFyZW50Um93LHJvdyk7CiAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZWRpdFN1Ym1pdCh7IGlkLCBuYW1lfSkgewogICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgdXJsOiAiL2FwaS1hZG1pbi9kaWN0VHlwZS91cGRhdGUiLAogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBpZCwKICAgICAgICAgIG5hbWUKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnkgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuWtl+WFuOabtOaWsOWksei0pSIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhZGRWYWx1ZVN1Ym1pdCh7cGFyZW50SWQsbmFtZX0pewogICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogIi9hcGktYWRtaW4vZGljdC9hZGQiLAogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBwYXJlbnRJZCwKICAgICAgICAgIG5hbWUKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnlUeXBlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLmt7vliqDlrZflhbjlgLzlpLHotKUiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWRpdFZhbHVlU3VibWl0KHtpZCxwYXJlbnRJZCxuYW1lfSl7CiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6ICIvYXBpLWFkbWluL2RpY3QvdXBkYXRlIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgaWQsCiAgICAgICAgICBwYXJlbnRJZCwKICAgICAgICAgIG5hbWUKICAgICAgICB9LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0RpY3Rpb25hcnlUeXBlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLlrZflhbjlgLzmm7TmlrDlpLHotKUiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlU3RhdHVzKHZhbCxyb3cpewogICAgICBjb25zb2xlLmxvZyh2YWwscm93KQogICAgICBsZXQgcGFyYW1zPXt9LHVybD0nJzsKICAgICAgaWYocm93LmNoaWxkcmVuKXsKICAgICAgICAvL+abtOaUueWIhuexuwogICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgIGlkOnJvdy5pZCwKICAgICAgICAgIG5hbWU6cm93LmNsYXNzTmFtZSwKICAgICAgICAgIGRlbEZsYWc6dmFsPzE6MAogICAgICAgIH0sCiAgICAgICAgdXJsPScvYXBpLWFkbWluL2RpY3RUeXBlL3VwZGF0ZScKICAgICAgfWVsc2V7CiAgICAgICAgLy/mm7TmlLnlgLwKICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgaWQ6cm93LmlkLAogICAgICAgICAgcGFyZW50SWQ6cm93LnBhcmVudElkLAogICAgICAgICAgbmFtZTpyb3cubmFtZSwKICAgICAgICAgIGRlbEZsYWc6dmFsPzE6MAogICAgICAgIH0sCiAgICAgICAgdXJsPScvYXBpLWFkbWluL2RpY3QvdXBkYXRlJwogICAgICB9CiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICB1cmw6IHVybCwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTpwYXJhbXMKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBsZXQgeyBjb2RlLCBtc2cgfSA9IHJlczsKICAgICAgICAgIGlmIChjb2RlID09IDApIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHJvdywgInN0YXR1cyIsIHZhbCk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiBtc2cgfHwgIueKtuaAgeabtOaWsOaIkOWKnyIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnNlYXJjaCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHJvdywgInN0YXR1cyIsICF2YWwpOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogbXNnIHx8ICLnirbmgIHmm7TmlrDlpLHotKUiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRzZXQocm93LCAic3RhdHVzIiwgIXZhbCk7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnIHx8ICLnirbmgIHmm7TmlrDlpLHotKUiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZGVsKHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbnoa7orqTliKDpmaTmraTmnaHlrZflhbjlrZfmrrU/IiwgIuWuieWFqOaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGxldCB1cmw9IHJvdy5jaGlsZHJlbj8nL2FwaS1hZG1pbi9kaWN0VHlwZS9kZWxldGUnOicvYXBpLWFkbWluL2RpY3QvZGVsZXRlJwogICAgICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgaWQ6cm93LmlkCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuWIoOmZpOWksei0pSIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICBnZXRBbGxEaWN0VHlwZSgpIHsKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogIi9hcGktYWRtaW4vZGljdFR5cGUvYWxsIiwKICAgICAgICB0eXBlOiAiZ2V0IiwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy50eXBlcyA9IHJlcy5wYWdlIHx8IFtdOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREaWN0VHlwZU5hbWUoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMudHlwZXMuZmluZCgoaXRlbSkgPT4gK2l0ZW0uaWQgPT09ICtpZCkubmFtZSB8fCAiIjsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSBzZWxlY3Rpb247CiAgICB9LAogICAgY2hhbmdlTXVsdFN0YXR1cyhpKSB7CiAgICAgIGNvbnNvbGUubG9nKGkpCiAgICAgIGlmICh0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35Yu+6YCJ6KaB5om56YeP56aB55So55qE6aG5IiwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbnoa7orqTov5vooYzmibnph4/npoHnlKg/IiwgIuaPkOekuiIsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGxldCBkaWN0SWRzPVtdLGRpY3RUeXBlSWRzPVtdOwogICAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgZGljdFR5cGVJZHMucHVzaChpdGVtLmlkKTsKICAgICAgICAgICAgICBpZihpdGVtLmNoaWxkcmVuLmxlbmd0aD4wKXsKICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChfaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgIGRpY3RJZHMucHVzaChfaXRlbS5pZCkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgICAgICAgdXJsOiBpPT0xPyIvYXBpLWFkbWluL2RpY3RUeXBlL2JhdGNoRGlzYWJsZSI6Ii9hcGktYWRtaW4vZGljdFR5cGUvYmF0Y2hFbmFibGUiLAogICAgICAgICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBkaWN0SWRzOmRpY3RJZHMuam9pbignLCcpLAogICAgICAgICAgICAgICAgZGljdFR5cGVJZHM6ZGljdFR5cGVJZHMubGVuZ3RoPjA/ZGljdFR5cGVJZHMuam9pbignLCcpOicnCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfISIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cgfHwgIuaTjeS9nOWksei0pSIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgICB9CiAgICB9LAogICAgZ2V0Um93S2V5KHJvdykgewogICAgICByZXR1cm4gcm93LmlkOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFsbERpY3RUeXBlKCk7CiAgICB0aGlzLnNlYXJjaCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/admin/dictionary/manage","sourcesContent":["<template>\n  <div class=\"dictionary\">\n    <div class=\"operators\">\n      <div class=\"search\">\n        <el-input\n          type=\"text\"\n          v-model.trim=\"key\"\n          placeholder=\"请输入字典名\"\n        ></el-input>\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-search\"\n          size=\"mini\"\n          @click=\"search\"\n          >搜索</el-button\n        >\n      </div>\n    </div>\n    <div class=\"table-list\">\n      <div class=\"buttons\">\n        <el-button type=\"primary\" size=\"small\" @click=\"add\"\n          >&nbsp;字典新增</el-button\n        >\n        <el-button type=\"danger\" size=\"small\" @click=\"changeMultStatus(1)\"\n          >&nbsp;批量禁用</el-button\n        >\n        <el-button type=\"primary\" size=\"small\" @click=\"changeMultStatus(2)\"\n          >&nbsp;批量启用</el-button\n        >\n      </div>\n      <el-table\n        :data=\"table\"\n        ref=\"multipleTable\"\n        @selection-change=\"handleSelectionChange\"\n        :row-key=\"getRowKey\"\n        header-row-class-name=\"headerRow\"\n        :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\"\n        :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n      >\n        <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n        <el-table-column\n          v-for=\"(column, i) in columnConfig\"\n          :key=\"i\"\n          :label=\"column.label\"\n          :prop=\"column.prop\"\n          :min-width=\"column.minWidth\"\n          :align=\"column.align\"\n        ></el-table-column>\n        <el-table-column label=\"状态\">\n          <template #default=\"{row}\">\n            <el-switch\n              v-model=\"row.status\"\n              :active-color=\"activeColor\"\n              :inactive-color=\"unactiveColor\"\n              @change=\"(val) => changeStatus(val, row)\"\n            >\n            </el-switch>\n          </template>\n        </el-table-column>\n        <!-- <el-table-column prop=\"remarks\" label=\"备注\"></el-table-column> -->\n        <el-table-column label=\"操作\" align=\"center\">\n          <template #default=\"{row}\">\n            <el-button type=\"primary\" v-if='row.children' size=\"mini\" @click=\"addType(row)\"\n              >添加</el-button\n            >\n            <el-button type=\"primary\" size=\"mini\" @click=\"edit(row)\"\n              >编辑</el-button\n            >\n            <el-button type=\"warning\" size=\"mini\" @click=\"del(row)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <cdialog v-if=\"showDictionary\" :types=\"types\"></cdialog>\n    <v-dialog v-if=\"showDictionaryType\"></v-dialog>\n    <div class=\"pagination\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"page\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"limit\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport dialog from \"@/components/dictionary/manage/dialog\";\nimport vDialog from '@/components/dictionary/type/dialog';\nimport { columnConfig } from \"./index\";\nexport default {\n  components: { cdialog: dialog,'v-dialog':vDialog },\n  data() {\n    return {\n      columnConfig: columnConfig,\n      activeColor: \"#00B9ED\",\n      unactiveColor: \"red\",\n      key: \"\",\n      table: [],\n      page: 1,\n      limit: 10,\n      total: 0,\n      // 所有字典分类\n      types: [],\n      showDictionary: false,\n      showDictionaryType:false,\n      multipleSelection: [],\n    };\n  },\n  events: {\n    getDictionary({ id, name }) {\n      if (id) {\n        this.editSubmit({ id, name });\n        return;\n      }\n      this.addSubmit({ name });\n    },\n    closeDictionaryDialog() {\n      this.showDictionary = false;\n       this.showDictionaryType = false;\n    },\n    getDictionaryType({ id,parentId, name }) {\n      if (id) {\n        this.editValueSubmit({ id, parentId, name });\n        return;\n      }\n      this.addValueSubmit({ parentId,name});\n    },\n    // closeDictionaryTypeDialog() {\n    //   this.showDictionaryType = false;\n    // }\n  },\n  methods: {\n    handleSizeChange(pageSize) {\n      this.limit = pageSize;\n      this.search();\n    },\n    handleCurrentChange(current) {\n      this.page = current;\n      this.search();\n    },\n    search() {\n      this.$axios({\n        url: \"/api-admin/dictType/list\",\n        type: \"get\",\n        data: {\n          page: this.page,\n          limit: this.limit,\n          name: this.key,\n        },\n      })\n        .then((res) => {\n          const page = (res || {}).page || {};\n          this.table = page.rows || [];\n          if(this.table.length>0){\n            this.table.forEach(item => {\n              item.status = item.delFlag == 0?false:true;\n              item.children.forEach(_item => {\n                _item.status = _item.delFlag == 0?false:true;\n              })\n            })\n          }\n          this.total = +page.total;\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"获取字典列表失败\",\n          });\n        });\n    },\n    add() {\n      this.showDictionary = true;\n    },\n    addType(row){\n      this.showDictionaryType = true;\n      this.$nextTick(_ => {\n        this.$trigger('addTypeValue',row)\n      })\n    },\n    addSubmit({ name }) {\n      this.$axios({\n        url: \"/api-admin/dictType/add\",\n        type: \"post\",\n        data: {\n          name\n        },\n      })\n        .then((res) => {\n          this.showDictionary = false;\n          this.search();\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"添加字典失败\",\n          });\n        });\n    },\n    edit(row) {\n      console.log(row);\n      //判断是字典分类还是字典值编辑\n      if(row.children){\n        this.showDictionary = true;\n         this.$nextTick((_) => {\n        this.$trigger(\"editDictionary\", row);\n      });\n      }else{\n        let parentRow;\n        for(let i=0;i<this.table.length;i++){\n          let _item=this.table[i];\n          this.table[i].children.forEach(it => {\n           if(it.id == row.id) parentRow = _item;\n          })\n\n        }\n        console.log(parentRow);\n        this.showDictionaryType = true;\n        //值编辑需要获取到主键id和父级id\n      this.$nextTick((_) => {\n        this.$trigger(\"editDictionaryType\", parentRow,row);\n      });\n      }\n    },\n    editSubmit({ id, name}) {\n      this.$axios({\n        url: \"/api-admin/dictType/update\",\n        type: \"post\",\n        data: {\n          id,\n          name\n        },\n      })\n        .then((res) => {\n          this.showDictionary = false;\n          this.search();\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"字典更新失败\",\n          });\n        });\n    },\n    addValueSubmit({parentId,name}){\n       this.$axios({\n        url: \"/api-admin/dict/add\",\n        type: \"post\",\n        data: {\n          parentId,\n          name\n        },\n      })\n        .then((res) => {\n          this.showDictionaryType = false;\n          this.search();\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"添加字典值失败\",\n          });\n        });\n    },\n    editValueSubmit({id,parentId,name}){\n      this.$axios({\n        url: \"/api-admin/dict/update\",\n        type: \"post\",\n        data: {\n          id,\n          parentId,\n          name\n        },\n      })\n        .then((res) => {\n          this.showDictionaryType = false;\n          this.search();\n        })\n        .catch((err) => {\n          this.$message({\n            message: err.msg || \"字典值更新失败\",\n          });\n        });\n    },\n    changeStatus(val,row){\n      console.log(val,row)\n      let params={},url='';\n      if(row.children){\n        //更改分类\n        params = {\n          id:row.id,\n          name:row.className,\n          delFlag:val?1:0\n        },\n        url='/api-admin/dictType/update'\n      }else{\n        //更改值\n         params = {\n          id:row.id,\n          parentId:row.parentId,\n          name:row.name,\n          delFlag:val?1:0\n        },\n        url='/api-admin/dict/update'\n      }\n      this.$axios({\n        url: url,\n        type: \"post\",\n        data:params\n      })\n        .then((res) => {\n          let { code, msg } = res;\n          if (code == 0) {\n            this.$set(row, \"status\", val);\n            this.$message({\n              type: \"success\",\n              message: msg || \"状态更新成功\",\n            });\n            this.search();\n          } else {\n            this.$set(row, \"status\", !val);\n            this.$message({\n              type: \"info\",\n              message: msg || \"状态更新失败\",\n            });\n          }\n        })\n        .catch((err) => {\n          this.$set(row, \"status\", !val);\n          this.$message({\n            type: \"info\",\n            message: err.msg || \"状态更新失败\",\n          });\n        });\n    },\n    del(row) {\n      this.$confirm(\"是否确认删除此条字典字段?\", \"安全提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          let url= row.children?'/api-admin/dictType/delete':'/api-admin/dict/delete'\n          this.$axios({\n            url: url,\n            type: \"post\",\n            data: {\n              id:row.id\n            },\n          })\n            .then((res) => {\n              this.$message({\n                type: \"success\",\n                message: \"删除成功!\",\n              });\n              this.search();\n            })\n            .catch((err) => {\n              this.$message({\n                message: err.msg || \"删除失败\",\n              });\n            });\n        })\n        .catch(() => {});\n    },\n    getAllDictType() {\n      this.$axios({\n        url: \"/api-admin/dictType/all\",\n        type: \"get\",\n      }).then((res) => {\n        this.types = res.page || [];\n      });\n    },\n    getDictTypeName(id) {\n      return this.types.find((item) => +item.id === +id).name || \"\";\n    },\n    handleSelectionChange(selection) {\n      this.multipleSelection = selection;\n    },\n    changeMultStatus(i) {\n      console.log(i)\n      if (this.multipleSelection.length == 0) {\n        this.$message({\n          type: \"info\",\n          message: \"请勾选要批量禁用的项\",\n        });\n      } else {\n        this.$confirm(\"是否确认进行批量禁用?\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        })\n          .then(() => {\n            let dictIds=[],dictTypeIds=[];\n            this.multipleSelection.forEach(item => {\n              dictTypeIds.push(item.id);\n              if(item.children.length>0){\n                item.children.forEach(_item => {\n                  dictIds.push(_item.id)\n                })\n              }\n            })\n            this.$axios({\n              url: i==1?\"/api-admin/dictType/batchDisable\":\"/api-admin/dictType/batchEnable\",\n              type: \"post\",\n              data: {\n                dictIds:dictIds.join(','),\n                dictTypeIds:dictTypeIds.length>0?dictTypeIds.join(','):''\n              },\n            })\n              .then((res) => {\n                this.$message({\n                  type: \"success\",\n                  message: \"操作成功!\",\n                });\n                this.search();\n              })\n              .catch((err) => {\n                this.$message({\n                  message: err.msg || \"操作失败\",\n                });\n              });\n          })\n          .catch(() => {});\n      }\n    },\n    getRowKey(row) {\n      return row.id;\n    },\n  },\n  created() {\n    this.getAllDictType();\n    this.search();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.dictionary {\n  padding: 20px;\n  .operators,\n  .operators .search {\n    display: flex;\n  }\n  .table-list {\n    margin: 20px 0 0 0;\n    background: #ffffff;\n    .buttons {\n      padding-top: 20px;\n    }\n  }\n  .operators /deep/ .el-input {\n    width: 250px;\n  }\n  // .pagination {\n  //   padding: 50px;\n  //   text-align: center;\n  //   background-color: #fff;\n  // }\n  /deep/ .el-button {\n    margin: 0 0 0 20px;\n  }\n}\n</style>\n"]}]}