{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/components/role/manage/handlerole.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/components/role/manage/handlerole.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJhdXRob3JpdGllcyJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWxhdGlvbjpmYWxzZSwKICAgICAgcm93RGF0YTp7CiAgICAgICAgICByb2xlSWQ6JycsCiAgICAgICAgICByb2xlTmFtZTonJywKICAgICAgICAgIGF1dGhvcml0eTpbXQogICAgICB9LAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBpZDogImlkIiwKICAgICAgICBsYWJlbDogIm5hbWUiLAogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLAogICAgICB9LAogICAgfTsKICB9LAogIGV2ZW50czp7CiAgICAgIGhhbmRsZVJvbGVzVHJlZSh7IHJvbGVJZCwgcm9sZU5hbWUsIG1lbnVMaXN0IH0pIHsKICAgICAgdGhpcy5yb3dEYXRhID0gT2JqZWN0LmFzc2lnbigKICAgICAgICB7fSwKICAgICAgICB7CiAgICAgICAgICByb2xlSWQsCiAgICAgICAgICByb2xlTmFtZSwKICAgICAgICAgIGF1dGhvcml0eTogbWVudUxpc3QKICAgICAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5jaGVja2VkKQogICAgICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLmlkKSwKICAgICAgICB9CiAgICAgICk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucm93RGF0YSkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrZWRLZXlzKG9iaiwgY2hlY2tlZE9iaikgewogICAgICB0aGlzLnJvd0RhdGEuYXV0aG9yaXR5ID0gY2hlY2tlZE9iai5jaGVja2VkS2V5czsKICAgICAgY29uc29sZS5sb2cob2JqKQogICAgICBpZihvYmouc3RhdHVzID09IDIpIHRoaXMucmVsYXRpb24gPSB0cnVlOwogICAgfSwKICAgIGNvbmZpcm0oKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucm93RGF0YS5hdXRob3JpdHkpCiAgICAgIHRoaXMuJGVtaXQoImNvbmZpcm0tc2V0IiwgdGhpcy5yb3dEYXRhKTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbC1zZXQiKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["handlerole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"handlerole.vue","sourceRoot":"src/components/role/manage","sourcesContent":["<template>\n  <div class=\"role_card\">\n    <div class=\"mask\"></div>\n    <div class=\"right_card\">\n      <div class=\"title\">点位配置</div>\n      <div class=\"content\">\n        <el-tree\n          :data=\"authorities\"\n          :check-strictly='relation'\n          show-checkbox\n          node-key=\"id\"\n          accordion\n          :props=\"defaultProps\"\n          :default-expanded-keys=\"rowData.authority\"\n          :default-checked-keys=\"rowData.authority\"\n          @check=\"checkedKeys\"\n        ></el-tree>\n      </div>\n      <div class=\"footer\">\n        <el-button type=\"primary\" @click=\"confirm\">确认</el-button>\n        <el-button type=\"info\" @click=\"cancel\">取消</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n.role_card {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  .mask {\n    width: 100%;\n    height: 100%;\n    background-color: rgba(103, 98, 98, 0.5);\n  }\n  .right_card {\n    box-sizing: border-box;\n    padding-top: 30px;\n    width: 400px;\n    height: 100%;\n    background: #ffffff;\n    position: absolute;\n    top: 0;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    .title {\n      font-size: 18px;\n      font-weight: 530;\n      margin-left:30px;\n    }\n    .content{\n        margin-left: 30px;\n        margin-top: 20px;\n        font-size: 16px;\n    }\n    .footer {\n        display: flex;\n     position: absolute;\n     bottom: 20px;\n      width: 100%;\n      text-align: center;\n      .el-button{\n         flex: 1;\n      }\n    }\n  }\n}\n</style>\n<script>\nexport default {\n  props: [\"authorities\"],\n  data() {\n    return {\n      relation:false,\n      rowData:{\n          roleId:'',\n          roleName:'',\n          authority:[]\n      },\n      defaultProps: {\n        id: \"id\",\n        label: \"name\",\n        children: \"children\",\n      },\n    };\n  },\n  events:{\n      handleRolesTree({ roleId, roleName, menuList }) {\n      this.rowData = Object.assign(\n        {},\n        {\n          roleId,\n          roleName,\n          authority: menuList\n            .filter((item) => item.checked)\n            .map((item) => item.id),\n        }\n      );\n      console.log(this.rowData)\n    }\n  },\n  methods: {\n    checkedKeys(obj, checkedObj) {\n      this.rowData.authority = checkedObj.checkedKeys;\n      console.log(obj)\n      if(obj.status == 2) this.relation = true;\n    },\n    confirm() {\n      // console.log(this.rowData.authority)\n      this.$emit(\"confirm-set\", this.rowData);\n    },\n    cancel() {\n      this.$emit(\"cancel-set\");\n    },\n  },\n};\n</script>\n"]}]}