{"remainingRequest":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/vueprototype/src/pages/login/index.vue?vue&type=style&index=0&id=247e7dd8&lang=less&scoped=true&","dependencies":[{"path":"/Users/apple/Desktop/vueprototype/src/pages/login/index.vue","mtime":1599616394000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/vueprototype/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi53cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHpvb206IDE7CiAgd2lkdGg6IDEwMCU7CiAgbWluLXdpZHRoOiAxMDAwcHg7CiAgaGVpZ2h0OiAxMDAlOwogIG1pbi1oZWlnaHQ6IDYwMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgLmhlYWRlciB7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgcGFkZGluZy10b3A6IDIwcHg7CiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7CiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIHNwYW4gewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICB9CiAgICAubG9nbyB7CiAgICAgIHdpZHRoOiA2MHB4OwogICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vLi4vYXNzZXRzL2ltYWdlcy9sb2dvLnBuZyIpOwogICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47CiAgICB9CiAgICAudGl0bGUgewogICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgfQogICAgLmRhdGUgewogICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4OwogICAgfQogIH0KICAubG9naW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgem9vbTogMTsKICAgIHdpZHRoOiAxMDAlOwogICAgZmxleDogMTsKICAgIG1pbi13aWR0aDogMTAwMHB4OwogICAgLy8gaGVpZ2h0OiAxMDAlOwogICAgLy8gbWluLWhlaWdodDogNjAwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiOWVkOwogICAgLy8gYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uL2Fzc2V0cy9pbWFnZXMvbG9naW4tYmcucG5nKTsKICAgIC8vIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgICAvLyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgMDsKICAgIC8vIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICAmLWJveCB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgcmlnaHQ6IDA7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIHdpZHRoOiA0MDhweDsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICBtYXJnaW46IDAgNTBweCAwIDA7CgogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwoKICAgICAgL2RlZXAvIGZvcm0gewogICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgd2lkdGg6IDQwOHB4OwogICAgICAgIHBhZGRpbmc6IDUzcHggMTVweDsKICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBib3gtc2hhZG93OiA1cHggNXB4IDVweCAjYjdhM2EzOwoKICAgICAgICAuZm9ybS1pdGVtIHsKICAgICAgICAgIG1hcmdpbjogMCAyNnB4IDU1cHg7CiAgICAgICAgfQogICAgICAgIC5lbC1mb3JtLWl0ZW0gewogICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDsKICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OwogICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC51c2VyLAogICAgLnBhc3N3b3JkIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggIzk0Nzg3ODsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgICYtaWNvbiB7CiAgICAgICAgd2lkdGg6IDI0cHg7CiAgICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICAgIG1hcmdpbjogMCAxMHB4IDAgMTBweDsKICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjY2NjYzsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7CiAgICAgICAgLy8gYm9yZGVyLXJhZGl1czogNTAlOwogICAgICB9CgogICAgICAmLWlucHV0IGlucHV0IHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgYm9yZGVyOiAwOwogICAgICAgIG91dGxpbmU6IDA7CiAgICAgIH0KICAgIH0KCiAgICAudGl0bGUgewogICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CgogICAgLnVzZXItaW5wdXQgewogICAgICB3aWR0aDogOTUlOwogICAgfQoKICAgIC5wYXNzd29yZC1pbnB1dCB7CiAgICAgIHdpZHRoOiA5NSU7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgLnlhbmppbmcgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogMnB4OwogICAgICAgIHRvcDogN3B4OwogICAgICB9CiAgICB9CgogICAgLmxvZ2luLWJ0biB7CiAgICAgIHdpZHRoOiAyMDBweDsKICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgICBsaW5lLWhlaWdodDogNDBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogI2ZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogMTAwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMGI5ZWQ7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICB9CiAgLnJlc2V0UHdkIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHpvb206IDE7CiAgICB3aWR0aDogMTAwJTsKICAgIGZsZXg6IDE7CiAgICBtaW4td2lkdGg6IDEwMDBweDsKICAgIC8vIGhlaWdodDogMTAwJTsKICAgIC8vIG1pbi1oZWlnaHQ6IDYwMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwYjllZDsKICAgIC8vIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi8uLi9hc3NldHMvaW1hZ2VzL2xvZ2luLWJnLnBuZyk7CiAgICAvLyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgLy8gYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIDA7CiAgICAvLyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgJi1ib3ggewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHJpZ2h0OiAwOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICB3aWR0aDogNDA4cHg7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgbWFyZ2luOiAwIDUwcHggMCAwOwoKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgIC9kZWVwLyBmb3JtIHsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIHdpZHRoOiA0MDhweDsKICAgICAgICBwYWRkaW5nOiA1M3B4IDE1cHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgICAgYm94LXNoYWRvdzogNXB4IDVweCA1cHggI2I3YTNhMzsKICAgICAgICAuZWwtZm9ybS1pdGVtIHsKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAudXNlciwKICAgIC5wYXNzd29yZCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGhlaWdodDogNDBweDsKICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICBib3gtc2hhZG93OiAwIDAgNXB4ICM5NDc4Nzg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CgogICAgICAmLWljb24gewogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICB3aWR0aDogMjRweDsKICAgICAgICBoZWlnaHQ6IDM2cHg7CiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2NjY2M7CiAgICAgICAgcGFkZGluZy1yaWdodDogNXB4OwogICAgICAgIG1hcmdpbi10b3A6IDRweDsKICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgfQoKICAgICAgJi1pbnB1dCBpbnB1dCB7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICBib3JkZXI6IDA7CiAgICAgICAgb3V0bGluZTogMDsKICAgICAgfQogICAgfQoKICAgIC50aXRsZSB7CiAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KCiAgICAudXNlci1pbnB1dCB7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIH0KCiAgICAucGFzc3dvcmQtaW5wdXQgewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgLnlhbmppbmcgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogLTEwNXB4OwogICAgICAgIHRvcDogMHB4OwogICAgICB9CiAgICB9CgogICAgLmxvZ2luLWJ0biB7CiAgICAgIHdpZHRoOiAyMDBweDsKICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgICBsaW5lLWhlaWdodDogNDBweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogI2ZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogMTAwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMGI5ZWQ7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICB9CiAgLmxvZ2luLC5yZXNldFB3ZHsKICAgIC9kZWVwLyAuZWwtaW5wdXRfX2lubmVyewogICAgICBwYWRkaW5nLWxlZnQ6IDA7CiAgICAgIGJvcmRlcjpub25lOwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"header\">\n      <div>\n        <span class=\"logo\"></span>\n        <span class=\"title\">豫力汽配智慧管控系统</span>\n      </div>\n      <div class=\"date\">{{ currentTime }}</div>\n    </div>\n    <div class=\"login\" v-if=\"!isFirstLogin\">\n      <div class=\"login-box\">\n        <el-form ref=\"user\" :model=\"user\" :rules=\"rules\" label-width=\"80px\">\n          <div class=\"title form-item\">登录</div>\n          <div class=\"user form-item\">\n            <div class=\"user-icon\">\n              <svg class=\"icon iconfont\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-yonghu\"></use>\n              </svg>\n            </div>\n            <div class=\"user-input\">\n              <el-input\n                type=\"text\"\n                v-model.trim=\"user.username\"\n                placeholder=\"请输入账号\"\n              ></el-input>\n            </div>\n          </div>\n          <div class=\"password form-item\">\n            <div class=\"password-icon\">\n              <svg class=\"icon iconfont\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-mima\"></use>\n              </svg>\n            </div>\n            <div class=\"password-input\">\n              <el-input\n                show-password\n                v-model=\"user.password\"\n                placeholder=\"请输入密码\"\n                autocomplete=\"off\"\n                @keyup.enter=\"login\"\n              ></el-input>\n              <!-- <span class=\"yanjing\"\n                ><svg class=\"icon iconfont\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-yanjingbukejian-\"></use></svg\n              ></span> -->\n            </div>\n          </div>\n          <div class=\"login-btn form-item\" @click=\"login\">登录</div>\n        </el-form>\n      </div>\n    </div>\n    <div class=\"resetPwd\" v-if=\"isFirstLogin\">\n      <div class=\"login-box\">\n        <el-form\n          ref=\"resetRule\"\n          :model=\"resetModel\"\n          :rules=\"resetRules\"\n          label-width=\"10px\"\n        >\n          <div class=\"title form-item\">重置密码</div>\n          <el-form-item class=\"user\">\n            <div class=\"user-icon\">\n              <svg class=\"icon iconfont\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-yonghu\"></use>\n              </svg>\n            </div>\n            <div class=\"user-input\">\n              <input type=\"text\" v-model.trim=\"user.username\" readonly />\n            </div>\n          </el-form-item>\n          <el-form-item class=\"password\" prop=\"newPassword\">\n            <div class=\"password-icon\">\n              <svg class=\"icon iconfont\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-mima\"></use>\n              </svg>\n            </div>\n            <div class=\"password-input\">\n              <el-input\n                show-password\n                v-model.trim=\"resetModel.newPassword\"\n                placeholder=\"请设置你的新密码\"\n              ></el-input>\n              <!-- <span class=\"yanjing\"\n                ><svg class=\"icon iconfont\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-yanjingbukejian-\"></use></svg\n              ></span> -->\n            </div>\n          </el-form-item>\n          <el-form-item class=\"password\" prop=\"checkPassword\">\n            <div class=\"password-icon\">\n              <svg class=\"icon iconfont\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-mima\"></use>\n              </svg>\n            </div>\n            <div class=\"password-input\">\n              <el-input\n               show-password\n                v-model.trim=\"resetModel.checkPassword\"\n                placeholder=\"请再次确认你的新密码\"\n              ></el-input>\n              <!-- <span class=\"yanjing\"\n                ><svg class=\"icon iconfont\" aria-hidden=\"true\">\n                  <use xlink:href=\"#icon-yanjingbukejian-\"></use></svg\n              ></span> -->\n            </div>\n          </el-form-item>\n          <div class=\"login-btn form-item\" @click=\"resetPwd\">确认</div>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    let validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入新密码\"));\n      } else {\n        if (this.resetModel.checkPassword !== \"\") {\n          this.$refs.resetRule.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    let validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.resetModel.newPassword) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      isFirstLogin: false,\n      user: {\n        username: \"\",\n        password: \"\",\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"请输入账号\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      resetModel: {\n        newPassword: \"\",\n        checkPassword: \"\",\n      },\n      resetRules: {\n        newPassword: [{ validator: validatePass, trigger: \"blur\" }],\n        checkPassword: [{ validator: validatePass2, trigger: \"blur\" }],\n      },\n      timmer: \"\",\n      currentTime: \"\",\n    };\n  },\n  computed: {\n    ...mapState({\n      userObj: (state) => state.login.user,\n    }),\n  },\n  methods: {\n    login() {\n      const { username, password } = this.user;\n      if (!username || !password) {\n        this.$message({\n          type: \"warning\",\n          message: \"账号或密码不能为空！\",\n        });\n      } else {\n        this.$axios({\n          type: \"post\",\n          url: \"/api-admin/login\",\n          data: {\n            username,\n            password,\n          },\n        })\n          .then((res) => {\n            const { user, token, router } = res;\n            if (res.code != 0)\n              return this.$message({\n                type: \"warning\",\n                message: res.msg || \"登录失败\",\n              });\n            this.$store.dispatch(\"login/setUser\", user);\n            this.$store.dispatch(\"login/setToken\", token);\n            this.$store.dispatch(\"login/setRouter\", router);\n            if (user.isLogin === 0) {\n              //首次登录\n              this.isFirstLogin = true;\n              this.user.password = \"\";\n            } else {\n              this.$router.push({\n                path: \"/home\",\n              });\n            }\n          })\n          .catch((err) => {\n            this.$message.error(err.msg || \"登录失败，请稍候再试\");\n          });\n      }\n    },\n    resetPwd() {\n      this.$refs.resetRule.validate((valid) => {\n        if (valid) {\n          this.$axios({\n            url: \"/api-admin/user/firResetPassword\",\n            type: \"post\",\n            data: {\n              id: this.userObj.id,\n              password: this.resetModel.newPassword,\n            },\n          })\n            .then((res) => {\n              let { code, msg } = res;\n              if (code != 0)\n                return this.$message({\n                  type: \"error\",\n                  msg: msg || \"重置失败\",\n                });\n              this.$message({\n                type: \"success\",\n                msg: msg || \"重置成功\",\n              });\n              this.isFirstLogin = false;\n              this.$refs.resetRule.resetFields();\n            })\n            .catch((err) => {\n              this.$message({\n                type: \"error\",\n                msg: err.msg || \"重置失败\",\n              });\n            });\n        }\n      });\n    },\n  },\n  created() {\n    this.timmer = setInterval(() => {\n      let date = new Date();\n      this.currentTime = date.pattern(\"yyyy-MM-dd EEE hh:mm:ss\");\n    }, 1000);\n  },\n  beforeDestroy() {\n    clearInterval(this.timmer);\n  },\n  mounted() {},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  zoom: 1;\n  width: 100%;\n  min-width: 1000px;\n  height: 100%;\n  min-height: 600px;\n  background-color: #fff;\n  .header {\n    box-sizing: border-box;\n    padding-top: 20px;\n    padding-left: 30px;\n    padding-right: 30px;\n    width: 100%;\n    height: 100px;\n    display: flex;\n    justify-content: space-between;\n    span {\n      display: inline-block;\n      vertical-align: middle;\n    }\n    .logo {\n      width: 60px;\n      height: 60px;\n      background-image: url(\"../../assets/images/logo.png\");\n      background-repeat: no-repeat;\n      background-size: contain;\n    }\n    .title {\n      margin-left: 10px;\n      font-size: 22px;\n    }\n    .date {\n      height: 60px;\n      line-height: 60px;\n    }\n  }\n  .login {\n    position: relative;\n    zoom: 1;\n    width: 100%;\n    flex: 1;\n    min-width: 1000px;\n    // height: 100%;\n    // min-height: 600px;\n    background-color: #00b9ed;\n    // background-image: url(../../assets/images/login-bg.png);\n    // background-repeat: no-repeat;\n    // background-position: center 0;\n    // background-size: cover;\n    &-box {\n      position: absolute;\n      right: 0;\n      display: flex;\n      box-sizing: border-box;\n      width: 408px;\n      height: 100%;\n      margin: 0 50px 0 0;\n\n      align-items: center;\n\n      /deep/ form {\n        box-sizing: border-box;\n        width: 408px;\n        padding: 53px 15px;\n        border-radius: 5px;\n        background: #fff;\n        box-shadow: 5px 5px 5px #b7a3a3;\n\n        .form-item {\n          margin: 0 26px 55px;\n        }\n        .el-form-item {\n          margin-bottom: 40px;\n          margin-left: 20px;\n          margin-right: 20px;\n        }\n      }\n    }\n\n    .user,\n    .password {\n      display: flex;\n      height: 40px;\n      border-radius: 5px;\n      box-shadow: 0 0 5px #947878;\n      align-items: center;\n\n      &-icon {\n        width: 24px;\n        height: 24px;\n        margin: 0 10px 0 10px;\n        border-right: 1px solid #cccc;\n        padding-right: 5px;\n        // border-radius: 50%;\n      }\n\n      &-input input {\n        width: 100%;\n        height: 30px;\n        border: 0;\n        outline: 0;\n      }\n    }\n\n    .title {\n      font-size: 20px;\n      font-weight: bold;\n      text-align: center;\n    }\n\n    .user-input {\n      width: 95%;\n    }\n\n    .password-input {\n      width: 95%;\n      position: relative;\n      .yanjing {\n        position: absolute;\n        right: 2px;\n        top: 7px;\n      }\n    }\n\n    .login-btn {\n      width: 200px;\n      height: 40px;\n      margin: 0 auto !important;\n      font-weight: 700;\n      line-height: 40px;\n      text-align: center;\n      color: #fff;\n      border-radius: 100px;\n      background-color: #00b9ed;\n      cursor: pointer;\n    }\n  }\n  .resetPwd {\n    position: relative;\n    zoom: 1;\n    width: 100%;\n    flex: 1;\n    min-width: 1000px;\n    // height: 100%;\n    // min-height: 600px;\n    background-color: #00b9ed;\n    // background-image: url(../../assets/images/login-bg.png);\n    // background-repeat: no-repeat;\n    // background-position: center 0;\n    // background-size: cover;\n    &-box {\n      position: absolute;\n      right: 0;\n      display: flex;\n      box-sizing: border-box;\n      width: 408px;\n      height: 100%;\n      margin: 0 50px 0 0;\n\n      align-items: center;\n\n      /deep/ form {\n        box-sizing: border-box;\n        width: 408px;\n        padding: 53px 15px;\n        border-radius: 5px;\n        background: #fff;\n        box-shadow: 5px 5px 5px #b7a3a3;\n        .el-form-item {\n          margin-bottom: 40px;\n          margin-left: 20px;\n          margin-right: 20px;\n        }\n      }\n    }\n\n    .user,\n    .password {\n      display: flex;\n      height: 40px;\n      border-radius: 5px;\n      box-shadow: 0 0 5px #947878;\n      align-items: center;\n\n      &-icon {\n        display: inline-block;\n        width: 24px;\n        height: 36px;\n        border-right: 1px solid #cccc;\n        padding-right: 5px;\n        margin-top: 4px;\n        margin-right: 5px;\n      }\n\n      &-input input {\n        display: inline-block;\n        width: 100%;\n        height: 30px;\n        border: 0;\n        outline: 0;\n      }\n    }\n\n    .title {\n      font-size: 20px;\n      font-weight: bold;\n      text-align: center;\n    }\n\n    .user-input {\n      display: inline-block;\n    }\n\n    .password-input {\n      display: inline-block;\n      position: relative;\n      .yanjing {\n        position: absolute;\n        right: -105px;\n        top: 0px;\n      }\n    }\n\n    .login-btn {\n      width: 200px;\n      height: 40px;\n      margin: 0 auto !important;\n      font-weight: 700;\n      line-height: 40px;\n      text-align: center;\n      color: #fff;\n      border-radius: 100px;\n      background-color: #00b9ed;\n      cursor: pointer;\n    }\n  }\n  .login,.resetPwd{\n    /deep/ .el-input__inner{\n      padding-left: 0;\n      border:none;\n    }\n  }\n}\n</style>\n"]}]}